# hotel_reservation
A hotel reservation system


安装步骤
1、在mysql中建立一个数据库hotel，数据库编码为utf8-bin

2、将hotel.sql导入到新建的hotel数据库中

3、将www.zip中的源码解压后放在网站发布目录中即可

4、最好重启一下apache

做完上述4步后，打开浏览器，输入地址: http://localhost 即可访问浏览本酒店信息管理系统了。

默认用户/密码
默认后台管理员账户 admin/admin

特别注意
系统开发是mysql数据库的默认root用户密码为空，
如果系统部署后登陆显示“数据库连接错误”，需要修改源码dbconnect.php中的密码为实际密码。



1.功能需求：
本系统需要实现酒店常用的房间预订、结算、入住记录查询，房间管理等功能，并帮助酒店建立客户数据库和入住记录数据库，能够方便的进行查询，并在系统的易用性和安全性两方面进行相应的完善。
系统功能主要包括登录功能、房间的管理、房间类型的管理、订房、入住、退房和管理员密码修改七大部分。以下按照不同的功能处理对具体功能进行描述。
（1）登录功能
          1.新用户需要注册
2.只有在输入正确用户名和密码才能登录进入操作界面。
（2）房间管理
可以对房间信息进行添加、删除、修改和查询。
（3）房间类型管理
可以对房间类型信息进行添加、删除、修改和查询。
（4）订房
查询空闲房间，订房后房间数量更新减少。
（5）入住
包括订房入住和大堂直接入住，记录用户订单和用户信息，并更新房间状态为“已入住”。
（6）退房
退房时算出总消费费用，更新房间状态并将房间数量增加。
（7）管理员密码修改
能提示管理员密码失效时间，并提供密码修改界面。




2.实体E-R图


客户实体，它保存的是客户的所有信息，包括证件类型、证件号、姓名和性别。其中证件号是主键。
订单实体，它保存的是订单的所有信息，包括流水号、房间号、入住时间、离开时间等。其中流水号是主键。
房间类别实体，它是对房间类型的描述，对不同的房间类型，其房间面积、床位数、屋内设施等做了描述。其主键是类型标识。
房间实体，它是对每间房的描述，房间属于一种房间类型，有编号和位置等属性。其主键是房间编号，外键是房间类型号。
管理员实体，它用来保存管理员的一些信息，包括管理员姓名和登录密码等。其主键是管理员号。


3.数据库表设计
（1）顾客表结构设计
顾客表customer主要用来存储入住人员的一些信息，包括证件号、姓名和性别等。其具体结构如下：
字段名称	数据类型	属性	说明
cardid	varchar(25)	主键，非空	证件号
cardtype	varchar(10)	非空	证件类型
cname	varchar(10)	非空	客户姓名
csex	char(1)	非空	客户性别
（2）管理员表结构设计
管理员表admin主要用来存储管理员登录信息。其具体结构如下：
字段名称	数据类型	属性	说明
id	int(9)	主键，非空，自增	管理员号
name	varchar(10)	非空	管理员姓名
passwd	varchar(200)	非空	密码
（3）房间表结构设计
房间表room主要用来存储房间的住宿情况，包括房间类型、房间位置等。其具体结构如下：
字段名称	数据类型	属性	说明
roomid	varchar(4)	主键，非空	房间编号
typeid	int(4)	外键，非空	房间类型
location	varchar(55)	非空	房间位置
status	char(1)	非空	是否入住
remarks	varchar(255)	可为空	房间描述
（4）房间类型表结构设计
房间类型表roomtype主要用来存储房间的类型，不同类型有不同的配置和价格。其具体结构如下：
字段名称	数据类型	属性	说明
typeid	int(4)	主键，非空，自增	类型标识 
typename	varchar(20)	非空	类型名称
area	varchar(2)	非空	房间面积
bednum	char(1)	非空	床位数量
hasFood	char(1)	非空	是否有早餐
hasNet	char(1)	非空	是否有网络
hasTV	char(1)	非空	是否有有线电视
hasWC	char(1)	非空	是否有独立卫生间
price	decimal(8,2)	非空	价格
totalnum	int(4)	非空	房间数量
leftnum	int(4)	非空	剩余数量
（5）订单表结构设计
订单表orders主要用来存储网上预订和大堂预订的订单信息，包括客户信息、订单信息等。其具体结构如下：
字段名称	数据类型	属性	说明
orderid	int(8)	主键，非空，自增	订单流水号
roomid	varchar(4)	外键，非空	房间号
cardid	varchar(25)	外键，非空	客户标识
entertime	varchar(20)	非空	入住时间
leavetime	varchar(20)	可空	离开时间
typeid	int(4)	非空	房间类型
linkman	varchar(10)	可空	联系人
phone	varchar(11)	可空	联系电话
ostatus	char(1)	可空	是否网上预订
oremarks	char(1)	可空	订单是否完成
（6）订单记录表结构设计
订单记录表record主要用来存储订单信息的历史记录，便于统计营业额。其具体结构如下：
字段名称	数据类型	属性	说明
orderid	int(8)	主键，非空，自增	订单流水号
roomid	varchar(4)	外键，非空	房间号
cardid	varchar(25)	外键，非空	客户标识
cardtype	varchar(10)	非空	证件类型
cname	varchar(10)	非空	客户姓名
csex	char(1)	非空	客户性别
entertime	varchar(20)	非空	入住时间
leavetime	varchar(20)	可空	离开时间
typeid	int(4)	非空	房间类型
linkman	varchar(10)	可空	联系人
phone	varchar(11)	可空	联系电话
ostatus	char(1)	可空	是否网上预订
monetary	decimal(8,2)	可空	消费金额
oremarks	char(1)	可空	订单是否完成
